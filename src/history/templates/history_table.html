{% extends "layout.html" %}

{% block title%}
Football Vacation | PL History
{% endblock title%}

{% block content%}
<h1 class="mb-5 mt-5">{{year}} - {{year|add:1}} Season</h1>
<div class="history-league-table mx-5">
    <table class="table table-striped table-bordered table-dark table-hover w-50 ">
        <thead>
            <tr>
                <th>Place</th>
                <th>Team</th>
                <th>Games Played</th>
                <th>Points</th>
                <th>Goal Difference</th>
            </tr>
        </thead>

        <tbody>
            {% for team in history %}
            <tr>
                <td>{{team.position}}</td>
                <td ><img class="history-crest-image" src="{{team.team.crest}}" alt=""></td>
                <td>{{team.playedGames}}</td>
                <td>{{team.points}}</td>
                <td>{{team.goalDifference}}</td>
            </tr>
        </tbody>
        {% endfor %}
    </table>
    <div class="scorers-table mx-5">
        <h3 class="mt-3 top-goalscorers">Top Goalscorers</h3>
        <table class="table w-25 mt-3">
            <thead>
                <tr>
                    <th>Player Name</th>
                    <th>Team</th>
                    <th>Games</th>
                    <th>Goals</th>
                    <th>Assists</th>
                    <th>Penalties</th>
                    
                </tr>
            </thead>
            <tbody>
                {% for scorer in scorers %}
                <tr>
                    <td>{{scorer.player.name}}</td>
                    <td><img src="{{scorer.team.crest}}" alt=""></td>
                    <td>{{scorer.playedMatches}}</td>
                    <td>{{scorer.goals}}</td>
                    <td>
                        {% if scorer.assists %}
                          {{ scorer.assists }}
                          {% else %}
                          0
                          {% endif %}
                        </td>
                      
                        <td>
                            {% if scorer.penalties %}
                            {{ scorer.penalties }}
                            {% else %}
                            0
                            {% endif %}
                        </td>

                </tr>
            </tbody>
            {% endfor %}
        </table>
    </div>
</div>
{% endblock content%}    